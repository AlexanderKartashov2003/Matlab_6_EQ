 properties (Access = public)
        equalizer = Equalizer(64, 44100);
    end
    properties (Access = public)
        deviceWriter = audioDeviceWriter('SampleRate', 44100);
    end
    properties (Access = public)
        fileReader = dsp.AudioFileReader ();
    end
    properties (Access = private)
        filename;
    end
    properties (Access = private)
        stopFlag = boolean(false);
    end
    
    
    methods (Access = public)
        function PlotFreqResponce()
            [H_db, w] = app.Equalizer.GetFreqResponce();
            plot (app.FreqResponce, w, H_db);
        end
    end
    
    
    
    
    
    
       methods (Access = private)

        % Code that executes after component creation
        function startupFcn(app)
            app.startupFcn = PlotFreqResponce(app);
        end

        % Value changed function: Gain1
        function Gain1ValueChanged(app, event)
            app.equalizer.gain (1) = app.Gain1.Value;
            PlotFreqResponce(app);
        end

        % Value changed function: Gain2
        function Gain2ValueChanged(app, event)
            app.equalizer.gain (2) = app.Gain2.Value;
            PlotFreqResponce(app);
        end

        % Value changed function: Gain3
        function Gain3ValueChanged(app, event)
            app.equalizer.gain (3) = app.Gain3.Value;
            PlotFreqResponce(app);
        end

        % Value changed function: Gain4
        function Gain4ValueChanged(app, event)
            app.equalizer.gain (4) = app.Gain4.Value;
            PlotFreqResponce(app);
        end

        % Value changed function: Gain5
        function Gain5ValueChanged(app, event)
            app.equalizer.gain (5) = app.Gain5.Value;
            PlotFreqResponce(app);
        end

        % Value changed function: Gain6
        function Gain6ValueChanged(app, event)
            app.equalizer.gain (6) = app.Gain6.Value;
            PlotFreqResponce(app);
        end

        % Value changed function: Gain7
        function Gain7ValueChanged(app, event)
            app.equalizer.gain (7) = app.Gain7.Value;
            PlotFreqResponce(app);
        end

        % Value changed function: Gain8
        function Gain8ValueChanged(app, event)
            app.equalizer.gain (8) = app.Gain8.Value;
            PlotFreqResponce(app);
        end

        % Value changed function: Gain9
        function Gain9ValueChanged(app, event)
            app.equalizer.gain (9) = app.Gain9.Value;
            PlotFreqResponce(app);
        end

        % Value changed function: Gain10
        function Gain10ValueChanged(app, event)
            app.equalizer.gain (10) = app.Gain10.Value;
            PlotFreqResponce(app);
        end

        % Button pushed function: LoadButton
        function LoadButtonPushed(app, event)
            app.filename = uigetfile ("*.mp3");
            app.fileReader = dsp.AudioFileReader (app.filename, 'PlayCount', inf, 'SamplesPerFrame', 4096);
            app.TRACKNAMELabel.Text = app.filename;
        end
    end
